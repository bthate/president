#!/usr/bin/env python3 
# This file is placed in the Public Domain.

__version__ = 21

from ob import cfg, e, j, op, os
from ob.csl import Console, exec, parse

def ver(event):
    event.reply("PRESIDENT %s" % __version__)

def main():
    cfg.wd = e("~/.president")
    parse()
    s = Console()
    s.add("ver", ver)
    s.scandir(j(os.getcwd(), "mod"))
    if cfg.txt:
        s.cmd(cfg.old.txt)
        return
    s.start()
    s.init(cfg.mods)
    s.wait()

exec(main)
